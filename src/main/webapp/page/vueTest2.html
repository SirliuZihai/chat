<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src = "../js/lib/vue.min.js" ></script>
<body>
<div id="app">
		<input type="text" v-model:value="name"/><button @click="dotest">test</button>
 		<span>{{name}}</span>
  <ul>
    <li v-for="product in products">
      <input type="number" v-model.number="product.quantity"> {{ product.name }} 
      <span v-if="product.quantity === 0"> --OUT OF STOCK</span>
      	
      <button @click="product.quantity+=1">Add</button>
    </li>
  </ul>
   <h2>Total Inventory:{{ totalNum }}</h2>
</div>
 
<script>
var states = 
		 {
			products:[
					{ quantity:(5),name:"cup" },
					{ quantity:4,name:"bed" },
					{ quantity:0,name:"cloth"}
				],
			name:"xx"
		};
const app = new Vue({
  el: '#app',
  data:function(){
		return states;/* */
	} ,
	computed:{
		totalNum(){
			 return this.products.reduce((sum,product) => {
				return product.quantity + sum 
			},0) 
		}
	 },
	 methods:{
		 dotest:function(){
			 states.name="liutest";
			 alert(this.name+" "+ states.name);
		 }
	 }
	/* created(){
	fetch('http://localhost/date.do')
	.then(response => response.json())
	.then(json =>{
		this.products = json.products
	})
} 	*/
})
</script>
 	
</body>
</html>